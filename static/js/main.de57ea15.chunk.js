(this["webpackJsonpbe-collective-fed-challenge"]=this["webpackJsonpbe-collective-fed-challenge"]||[]).push([[0],{20:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r),o=a(2),i=a.n(o),s=a(13),d=a(14),u=a(15),f=a(18),m=a(16),h=a(19),p=a(17),v=a.n(p),g=function(e){var t=e.selected,a=e.label,n=e.type,r=e.size,c=e.onChange;return l.a.createElement("div",{className:"files"},"folder"===n?l.a.createElement("div",null,l.a.createElement("span",{className:"fa files__icon ".concat(t?"fa-chevron-down":"fa-chevron-right"," "),onClick:function(){return c(!t)}}),l.a.createElement("span",{className:"fa files__icon fa-folder"}),l.a.createElement("span",{className:"files__label"},a)):"file"===n?l.a.createElement("div",null,l.a.createElement("span",{className:"fa files__icon fa-file"}),l.a.createElement("span",{className:"files__label"},a," ","".concat((r/1e3).toFixed(3)," KB"))):void 0)},E=function e(t){var a=t.files,n=t.selectedFolders,r=t.onChange,c=function(e){n[e]?delete n[e]:n[e]={},r(n)},o=function(e,t){n[e]=t,r(n)};return l.a.createElement("div",{className:"file-browser"},a&&a.map((function(t,a){return l.a.createElement("ul",{key:"id-".concat(a)},l.a.createElement(g,{selected:n["id-".concat(a)],label:t.name,type:t.type,size:t.size,onChange:function(){c("id-".concat(a))}}),t.children&&n["id-".concat(a)]&&l.a.createElement(e,{files:t.children,selectedFolders:n["id-".concat(a)],onChange:function(e){return o("id-".concat(a),e)}}))})))},w=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],totalSize:0,fileCount:0,selectedFolders:{},loading:!0,error:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,v.a.get("https://chal-locdrmwqia.now.sh/");case 4:(t=e.sent).data&&t.data.data?(this.getTotals(t.data.data),this.setState({loading:!1,data:t.data.data})):this.setState({loading:!1,error:"network error"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({loading:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTotals",value:function(e){var t=e.sort((function(e,t){return"folder"===e.type?-1:"file"===t.type?1:0}));this.calculateTotals(t)}},{key:"calculateTotals",value:function(e){var t=this;return e.map((function(e){"file"===e.type&&e.size&&t.setState((function(t){return{fileCount:t.fileCount+1,totalSize:t.totalSize+e.size}})),"folder"===e.type&&e.children&&t.calculateTotals(e.children)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading,r=t.fileCount,c=t.totalSize,o=t.error;return l.a.createElement("div",{className:"container"},o?l.a.createElement("h1",null," Oopsy.. something isn't quite right. Come back later.. "):l.a.createElement("div",{className:"wrapper"},l.a.createElement("h1",null,"File Browser"),n?l.a.createElement("div",{className:"loader"},"Loading..."):l.a.createElement("div",null,!n&&a.length<1?l.a.createElement("p",null,"No Files Found!"):l.a.createElement(E,{files:a,onChange:function(t){return e.setState({selectedFolders:t})},selectedFolders:this.state.selectedFolders}),l.a.createElement("hr",null),l.a.createElement("div",{className:"totals"},l.a.createElement("p",null,"Total Files: ",r),l.a.createElement("p",null,"Total Filesize: ","".concat((c/1e6).toFixed(3)," MB"))))))}}]),t}(l.a.Component);a(43),a(44),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.de57ea15.chunk.js.map